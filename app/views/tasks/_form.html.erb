<%= form_with model: @task do |f| %>
    <div class="field-col">
        <% task.errors.full_messages.each do |message| %>
            <div class="error"><%= message %></div>
        <% end %>
    </div>

    <div class="field-row">
        <%= f.label :title %>
        <%= f.text_field :title %>
    </div>

    <div class="field-row">
        <%= f.label :category_id %>
        <%= f.select :category_id, current_user.categories.reduce({}) { |hash, cat| hash[cat.name] = cat.id; hash } %>
    </div>

    <div class="field-col">
        <%= f.label :notes %>
        <%= f.text_area :notes %>
    </div>

    <div class="field-row">
        <%= f.label :due_date %>
        <%= f.date_field :due_date, class: 'date-select' %>
    </div>

    <div class="field-row">
        <%= f.check_box :completed %>
        <%= f.label :completed %>
    </div>

    <div>
        <%= f.submit btn_label, class: "btn"%>
    </div>
<% end %>
